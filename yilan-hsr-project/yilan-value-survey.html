<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®œè˜­åƒ¹å€¼æ’åºèª¿æŸ¥</title>
    <style>
        :root {
            --primary-color: #ffffff;
            /* High Contrast White */
            --accent-color: #ff4757;
            /* Bright Red */
            --bg-color: #121212;
            /* Deep Black */
            --card-bg: #1e1e1e;
            /* Solid Opaque Dark */
            --item-bg: #2a2a2a;
            /* Slightly lighter than card */
        }

        body {
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: var(--primary-color);
        }

        .container {
            width: 100%;
            height: 100vh;
            max-width: none;
            max-height: none;
            overflow-y: auto;
            background: var(--card-bg);
            /* Dark Card */
            padding: 40px;
            border-radius: 0;
            box-shadow: none;
            border: none;
            text-align: center;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container>* {
            max-width: 600px;
            width: 100%;
        }

        h2 {
            margin-bottom: 10px;
            color: var(--accent-color);
        }

        p.subtitle {
            color: #ccc;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* æ’åºåˆ—è¡¨æ¨£å¼ */
        .sortable-list {
            list-style: none;
            padding: 0;
            margin: 0 auto 30px auto;
            max-width: 400px;
        }

        .item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--item-bg);
            border: 1px solid #444;
            margin-bottom: 12px;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: grab;
            transition: all 0.2s ease;
            user-select: none;
            position: relative;
            color: #fff;
        }

        .item:hover {
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            background: #333;
        }

        .item.dragging {
            opacity: 0.5;
            border: 2px dashed #999;
        }

        .item-content {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1em;
            font-weight: bold;
        }

        .icon {
            font-size: 1.5em;
        }

        /* æ‰‹æ©Ÿç‰ˆå¥½ç”¨çš„ä¸Šä¸‹ç§»å‹•æŒ‰éˆ• */
        .controls {
            display: flex;
            gap: 5px;
        }

        .btn-move {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 5px;
            width: 30px;
            height: 30px;
            cursor: pointer;
            color: #ccc;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-move:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
        }

        /* é€å‡ºæŒ‰éˆ• */
        .submit-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }

        .submit-btn:hover {
            background-color: #c0392b;
            transform: scale(1.05);
        }

        /* çµæœå€å¡Šï¼ˆé è¨­éš±è—ï¼‰ */
        .chart-box {
            background: #222;
            border-left: 5px solid var(--accent-color);
            padding: 20px;
            text-align: left;
            text-align: left;
            margin-top: 10px;
            border-radius: 8px;
        }

        .chart-title {
            font-size: 0.9em;
            color: #888;
            margin-bottom: 10px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .rank-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 1.1em;
            color: #fff;
        }

        .rank-num {
            font-weight: 900;
            color: var(--accent-color);
            width: 30px;
            margin-right: 10px;
            font-style: italic;
        }

        .analysis-text {
            margin-top: 20px;
            font-size: 0.95em;
            color: #ddd;
            line-height: 1.6;
            text-align: justify;
        }

        /* æ¨™ç¤ºé‡é» */
        .highlight {
            background: transparent;
            color: var(--accent-color);
            font-weight: bold;
            text-decoration: underline;
        }

        /* çµæœå½ˆçª—æ¨£å¼ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.3s ease;
            max-width: none !important;
            /* Force full width override */
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
            opacity: 1;
        }

        .modal-content {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 1px solid #333;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            max-height: 90vh;
            overflow-y: auto;

            /* Animation Initial State */
            transform: scale(0.7);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            /* Bouncy Pop */
        }

        .modal-close-btn {
            margin-top: 20px;
            padding: 10px 30px;
            background: #555;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        .modal-close-btn:hover {
            background: #777;
        }
    </style>
</head>

<body>

    <div class="container">
        <h2>å®œè˜­åƒ¹å€¼æ’åº</h2>
        <p class="subtitle">å¦‚æœä½ æ˜¯å®œè˜­äººï¼Œå°ä½ ä¾†èªªæœ€é‡è¦çš„äº‹æƒ…æ˜¯ä»€éº¼ï¼Ÿ<br>è«‹æ‹–æ›³ï¼ˆæˆ–ä½¿ç”¨ç®­é ­ï¼‰å°‡ä¸‹æ–¹é …ç›®ä¾ç…§<b>é‡è¦ç¨‹åº¦</b>æ’åºã€‚</p>

        <ul class="sortable-list" id="sortable-list">
            <li class="item" draggable="true" data-id="traffic">
                <div class="item-content">
                    <span class="icon">ğŸš„</span>
                    <span>äº¤é€šä¾¿åˆ©</span>
                </div>
                <div class="controls">
                    <button class="btn-move" onclick="moveUp(this)">â†‘</button>
                    <button class="btn-move" onclick="moveDown(this)">â†“</button>
                </div>
            </li>
            <li class="item" draggable="true" data-id="medical">
                <div class="item-content">
                    <span class="icon">ğŸ¥</span>
                    <span>é†«ç™‚è³‡æº</span>
                </div>
                <div class="controls">
                    <button class="btn-move" onclick="moveUp(this)">â†‘</button>
                    <button class="btn-move" onclick="moveDown(this)">â†“</button>
                </div>
            </li>
            <li class="item" draggable="true" data-id="economy">
                <div class="item-content">
                    <span class="icon">ğŸ’°</span>
                    <span>ç¶“æ¿Ÿ/å·¥ä½œæ©Ÿæœƒ</span>
                </div>
                <div class="controls">
                    <button class="btn-move" onclick="moveUp(this)">â†‘</button>
                    <button class="btn-move" onclick="moveDown(this)">â†“</button>
                </div>
            </li>
        </ul>

        <button class="submit-btn" onclick="showResult()">çœ‹çµæœï¼šåœ¨åœ°äººæ€éº¼æƒ³ï¼Ÿ</button>
    </div>

    <!-- Modal çµæ§‹ (Moved outside container) -->
    <div class="modal-overlay" id="result-modal">
        <div class="modal-content">
            <h3>Reality Checkï¼šçœŸå¯¦çš„åœ¨åœ°ç„¦æ…®</h3>
            <p style="color:#ccc; font-size:0.9em; margin-bottom:20px;">
                ä½ çš„æ’åºæˆ–è¨±å’Œä»–å€‘ä¸åŒã€‚<br>æ ¹æ“šå‰ç«‹å§”é™³ç¬æƒ æ‰€åšçš„åœ¨åœ°æ°‘èª¿ï¼Œå®œè˜­é„‰è¦ªæœ€åœ¨ä¹çš„å…¶å¯¦æ˜¯...
            </p>

            <div class="chart-box">
                <div class="chart-title">ğŸ“Š å®œè˜­åœ¨åœ°æ°‘èª¿çµæœ</div>
                <div class="rank-row">
                    <span class="rank-num">1</span>
                    <span>ğŸ’° ç¶“æ¿Ÿç™¼å±• (å·¥ä½œæ©Ÿæœƒ)</span>
                </div>
                <div class="rank-row">
                    <span class="rank-num">2</span>
                    <span>ğŸš„ äº¤é€šä¾¿åˆ©</span>
                </div>
                <div class="rank-row">
                    <span class="rank-num">3</span>
                    <span>ğŸ¥ é†«ç™‚ç…§è­·</span>
                </div>
            </div>

            <div class="analysis-text">
                <p>
                    ã€Œæˆ‘å€‘è¦çš„æ˜¯é£¯ç¢—ï¼Œä¸æ˜¯åªæœ‰é€±æœ«å›å®¶çš„å¿«è»Šã€‚ã€<br><br>
                    è¨±å¤šäººä»¥ç‚ºå®œè˜­æœ€ç¼ºçš„æ˜¯äº¤é€šï¼Œä½†æ°‘èª¿é¡¯ç¤ºï¼Œåœ¨åœ°äººæ›´ç„¦æ…®çš„æ˜¯<span class="highlight">ç”¢æ¥­åœæ»¯èˆ‡ä½è–ªå•é¡Œ</span>ã€‚ç„¶è€Œï¼Œé€™æ¢è€—è³‡ 1800
                    å„„çš„é«˜éµï¼Œé™¤äº†æŠŠäººè¼‰å‡ºå»ï¼ŒçœŸçš„èƒ½æŠŠç”¢æ¥­è¼‰é€²ä¾†å—ï¼Ÿ
                </p>
            </div>

            <button class="modal-close-btn" onclick="closeResult()">è¿”å›èª¿æŸ¥</button>
        </div>
    </div>

    <!-- Modal çµæ§‹ -->

    </div>

    <script>
        const sortableList = document.getElementById("sortable-list");
        const items = sortableList.querySelectorAll(".item");

        // --- 1. æ‹–æ›³åŠŸèƒ½é‚è¼¯ (Drag & Drop) ---
        items.forEach(item => {
            item.addEventListener("dragstart", () => {
                // å»¶é²ä¸€é»é»è®“è¦–è¦ºæ•ˆæœæ›´å¥½
                setTimeout(() => item.classList.add("dragging"), 0);
            });

            item.addEventListener("dragend", () => {
                item.classList.remove("dragging");
            });
        });

        const initSortableList = (e) => {
            e.preventDefault();
            const draggingItem = document.querySelector(".dragging");
            // æ‰¾åˆ°ç›®å‰æ»‘é¼ ä½ç½®ä¸‹æ–¹ä¸æ˜¯ dragging çš„æ‰€æœ‰é …ç›®
            let siblings = [...sortableList.querySelectorAll(".item:not(.dragging)")];

            // æ‰¾åˆ°æ‡‰è©²æ’å…¥çš„ä½ç½®
            let nextSibling = siblings.find(sibling => {
                return e.clientY <= sibling.offsetTop + sibling.offsetHeight / 2;
            });

            // æ’å…¥ DOM
            sortableList.insertBefore(draggingItem, nextSibling);
        }

        sortableList.addEventListener("dragover", initSortableList);
        sortableList.addEventListener("dragenter", e => e.preventDefault());

        // --- 2. æŒ‰éˆ•ç§»å‹•é‚è¼¯ (é©åˆæ‰‹æ©Ÿ) ---
        function moveUp(btn) {
            const item = btn.closest('.item');
            const prev = item.previousElementSibling;
            if (prev) {
                item.parentNode.insertBefore(item, prev);
            }
        }

        function moveDown(btn) {
            const item = btn.closest('.item');
            const next = item.nextElementSibling;
            if (next) {
                item.parentNode.insertBefore(next, item);
            }
        }

        // --- 3. é¡¯ç¤ºçµæœé‚è¼¯ ---
        // --- 3. é¡¯ç¤ºçµæœé‚è¼¯ (Modal) ---
        function showResult() {
            const modal = document.getElementById('result-modal');
            modal.classList.add('active');
        }

        function closeResult() {
            const modal = document.getElementById('result-modal');
            modal.classList.remove('active');
        }
    </script>

</body>

</html>